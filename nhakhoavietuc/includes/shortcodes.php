<?phpadd_shortcode('latest_posts', 'shortcode_latest_posts');add_shortcode('slide_doctor', 'shortcode_slide_doctor');function shortcode_latest_posts($atts, $content = null) {    $atts = shortcode_atts(array(        'num' => '2',    ), $atts, 'latest_posts' );        $loop = new WP_Query(array(        'post_type' => 'post',        'posts_per_page' => $atts['num'],        'meta_key' => 'order',        'order' => 'ASC',    ));    $html = '<div class="latest-posts-container">';    while ($loop->have_posts()) : $loop->the_post();        $html .= '<div class="row item">';        $html .= '<div class="col-sm-5"><a href="' . get_the_permalink() . '" class="thumbnail">';        $html .= '<img alt="' . get_the_title() . '" src="' . get_post_thumbnail_url(get_the_ID(), '260x130') . '" onError="this.src=no_image_src" />';        $html .= '</a></div>';        $html .= '<div class="col-sm-7"><a href="' . get_the_permalink() . '">';        $html .= '<h3>' . get_the_title() . '</h3>';        $html .= '</a>';        $html .= '<div class="excerpt">'.  get_the_excerpt() . '</div>';        $html .= '</div>';        $html .= '</div>';    endwhile;    wp_reset_query();    $html .= '</div>';    return $html;}function shortcode_slide_doctor($atts, $content = null) {    $loop = new WP_Query(array(        'post_type' => 'doctor',        'posts_per_page' => -1,        'orderby' => 'meta_value_num',        'order' => 'ASC',        'meta_key' => 'order',    ));    $html = '<div class="swiper-container doctor-container">';    $html .= '<div class="swiper-wrapper">';    while ($loop->have_posts()) : $loop->the_post();        $html .= '<div class="swiper-slide item">';        $html .= '<a href="' . get_the_permalink() . '">';        $html .= '<img alt="' . get_the_title() . '" src="' . get_post_thumbnail_url(get_the_ID(), 'full') . '" />';        $html .= '</a>';        $html .= '<a href="' . get_the_permalink() . '">';        $html .= '<h3>' . get_the_title() . '</h3>';        $html .= '</a>';        $html .= '<p class="phone">'.  get_post_meta(get_the_ID(), 'phone', true).'</p>';        $html .= '</div>';    endwhile;    wp_reset_query();    $html .= '</div>';    $html .= '<div class="swiper-pagination"></div>';    $html .= '<div class="swiper-scrollbar"></div>';    $html .= '</div>';    return $html;}//////////////////////////////////////////////////////////////////// Add buttons to tinyMCE//////////////////////////////////////////////////////////////////add_action('init', 'add_button');function add_button() {    if (current_user_can('edit_posts') && current_user_can('edit_pages')) {        add_filter('mce_external_plugins', 'add_plugin');        add_filter('mce_buttons_3', 'register_button');    }}function register_button($buttons) {    array_push($buttons, "slide_doctor", "latest_posts");    return $buttons;}function add_plugin($plugin_array) {    $plugin_array['latest_posts'] = get_template_directory_uri() . '/libs/js/tinymce.js';    $plugin_array['slide_doctor'] = get_template_directory_uri() . '/libs/js/tinymce.js';    return $plugin_array;}